% =================
%   DOCUMENT INIT
% =================

% CHANGE DEFAULT IMAGE FOLDER (requires GRAPHICX)
\graphicspath{{./\defaultimagefolder}}

% INITIAL CONFIGURATIONS
\renewcommand{\baselinestretch}{\defaultinterline}
\setlength{\parindent}{\defaultparindent}
\setlength{\parskip}{\defaultparskip}
\setlength{\footnotesep}{\footnoteskip}
\setlength{\skip\footins}{\footnotespace}

% CONFIGURE BADNESS
\hbadness=\maxdimen
\vbadness=\maxdimen

% FORMATTING TITLES (requires TITLESEC)
\titleformat{\section}{\normalfont\Large\bfseries}{\thesection.}{2ex}{}
\titleformat{\subsection}{\normalfont\large\bfseries}{\thesubsection.}{2ex}{}
\titleformat{\subsubsection}{\normalfont\normalsize\bfseries}{\thesubsubsection.}{2ex}{}
\titlespacing*{\section} {0pt}{3.5ex plus 1ex minus .2ex}{2.0ex plus .2ex}
\titlespacing*{\subsection} {0pt}{2.5ex plus 1ex minus .2ex}{1.0ex plus .2ex}
\titlespacing*{\subsubsection}{0pt}{2.0ex plus 1ex minus .2ex}{.6ex plus .2ex}

% CONFIGURE FLOATS DISTANCES
\setlength{\textfloatsep}{20.0pt plus 2.0pt minus 4.0pt}
\setlength{\floatsep}{12.0pt plus 2.0pt minus 2.0pt}
\setlength{\intextsep}{18.0pt plus 4.0pt minus 4.0pt}

% CONFIGURE CAPTIONS
\captionsetup[table]{
    font=small,
    labelfont=bf, 
    labelsep=newline, 
    justification=justified,
    singlelinecheck=false, 
    skip=0.25\baselineskip
    }
\captionsetup[figure]{
    font=small,
    labelfont=bf,
    labelsep=colon, 
    justification=justified,
    singlelinecheck=true, 
    skip=0.5\baselineskip
    }

\ifthenelse{\equal{\figurecaptiontop}{true}}{
	\captionsetup[figure]{position=top}
	}{
	\captionsetup[figure]{position=bottom}
}
\ifthenelse{\equal{\tablecaptiontop}{true}}{
	\captionsetup[table]{position=top}
	}{
	\captionsetup[table]{position=bottom}
}
\ifthenelse{\equal{\fignumsec}{true}}{
    \captionsetup{figurewithin=section}
    }{}
\ifthenelse{\equal{\tabnumsec}{true}}{
    \captionsetup{tablewithin=section}
    }{}

% CONFIGURE BIBLIOGRAPHY
\setlength\bibitemsep{\bibentrysep}
\renewcommand*{\bibfont}{\normalfont}
\DefineBibliographyStrings{spanish}{andothers = {et\addabbrvspace al\adddot}
}

% SET COLOURS FOR LINKS
\definecolor{urlcolor}{rgb}{0.02, 0.27, 0.68}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    filecolor=cyan,
    citecolor=black,
    urlcolor=urlcolor
    }

% DEFINE FANCY STYLES (requires FANCYHDR)
\fancypagestyle{portrait}{
    \setlength{\headheight}{\portraitheadheight}
    
    \fancyhf{}
    \fancyhead[L]{
        \hspace{.25cm}
    	\includegraphics[height=\departmentimageheight]{\departmentimage}
        \begin{tabular}[b]{l}
            \universityname ~\\
        	\facultyname ~\\
        	\universitydepartment ~\\ \vspace{-14pt}
        \end{tabular}
    }
}
\fancypagestyle{prelude}{
	\fancyhf{}
	\fancyhead[L]{}
	\fancyhead[R]{}
	\fancyfoot[C]{\small \thepage}
	\renewcommand{\headrulewidth}{0.4pt}
	\renewcommand{\footrulewidth}{0pt}
}
\fancypagestyle{core}{
	\fancyhf{}
	\fancyhead[L]{\nouppercase{\rightmark}}
	\fancyhead[R]{}
	\fancyfoot[C]{\small \thepage}
	\renewcommand{\headrulewidth}{0.4pt}
	\renewcommand{\footrulewidth}{0pt}
}
\renewcommand{\sectionmark}[1]{\markboth{#1}{#1}}     % To have correct names above page
